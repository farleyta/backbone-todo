var toDoApp=toDoApp||{};toDoApp.ToDo=Backbone.Model.extend({defaults:{title:"",isComplete:!1},toggle:function(){this.save({isComplete:!this.get("isComplete")})}});var toDoApp=toDoApp||{},ToDoList=Backbone.Collection.extend({model:toDoApp.ToDo,localStorage:new Backbone.LocalStorage("backbone-todo"),getCompleted:function(){return this.filter(function(toDoModel){return toDoModel.get("isComplete")})},getRemaining:function(){return this.filter(function(toDoModel){return!toDoModel.get("isComplete")})},nextOrderNum:function(){return this.length<1?1:this.max(function(toDoModel){return toDoModel.get("orderNum")}).get("orderNum")+1},comparator:"orderNum"});toDoApp.todoList=new ToDoList;